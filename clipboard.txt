# Click Show Number if present
try:
    show_number = r.find_element(By.XPATH, './/span[contains(text(), "Show Number")]')
    self.driver.execute_script("arguments[0].click();", show_number)
    time.sleep(2)  # Let modal/content load
except Exception as e:
    print(f"Show number click failed: {e}")

# Extract contact numbers
try:
    numbers = r.find_elements(By.XPATH, './/a[contains(@href, "tel:")]')
    contact = [n.get_attribute('href').replace('tel:', '') for n in numbers]
except:
    try:
        contact = r.find_element(By.XPATH, './/span[contains(@class, "callcontent")]').text
    except:
        contact = None

# Close modal if visible
try:
    wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, '.jd_modal_close')))
    close = self.driver.find_element(By.CSS_SELECTOR, '.jd_modal_close')
    self.driver.execute_script("arguments[0].click();", close)
    time.sleep(1)
except Exception as e:
    print(f"Modal close failed: {e}")
